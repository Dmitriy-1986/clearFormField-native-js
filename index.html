<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style>
        .hidden {
            opacity: 0;
        }
    </style>
</head>

<body>

    <h2>Form 1</h2>
    <form>
        <input type="text" name="search" placeholder="Поиск" class="inputWithClear">
        <button class="clearButton hidden">Очистить</button>
    </form>

    <h2>Form 2</h2>
    <form>
        <p>
            <input type="text" name="fullName" placeholder="Полное Имя" class="inputWithClear">
            <button class="clearButton hidden">Очистить Полное Имя</button>
        </p>
        <p>
            <input type="text" name="surName" placeholder="Фамилия" class="inputWithClear">
            <button class="clearButton hidden">Очистить Фамилию</button>
        </p>
    </form>

    <script>
        function updateButtonVisibility(input) {
            const button = input.nextElementSibling;
            if (input.value.length <= 1) {
                button.classList.add('hidden');
            } else {
                button.classList.remove('hidden');
            }
        }

        function clearField(input) {
            input.value = '';
            updateButtonVisibility(input);
        }

        const inputWithClear = document.querySelectorAll('.inputWithClear');

        inputWithClear.forEach(item => {
            item.addEventListener('input', () => {
                updateButtonVisibility(item);
            });

            const clearButton = item.nextElementSibling;
            clearButton.addEventListener('click', (event) => {
                event.preventDefault();
                clearField(item);
            });
        });
    </script>

</body>

</html>
